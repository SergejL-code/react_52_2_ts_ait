import { useEffect, useState } from "react";
import MyButton from "../../components/myButton/MyButton";
import Lesson05 from "../lesson05/Lesson05";

function Lesson_08(): JSX.Element {
  // –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ä–µ–Ω–¥—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Lesson08
  const [count, setCount] = useState<number>(0);
  const [dog, setDog] = useState<string>("");
  const [toggle, setToggle] = useState<boolean>(false);

  // —ç—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è toggle —Å true –Ω–∞ false —á—Ç–æ–±—ã –ø—Ä—è—Ç–∞—Ç—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
  const handleToggle = (): void => {
    setToggle((prev) => !prev);
  };

  //—ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∏–∑–≤–µ–¥–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  // –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –º–µ–Ω—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å–æ—Å—Ç–æ—è–Ω–∏—è
  // (–º—ã –º–µ–Ω—è–µ–º count –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–≤–æ–¥–∏–º –µ–≥–æ)
  const handleIncrease = (): void => {
    setCount((prev) => prev + 1);
  };

  // –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useEffect, —á—Ç–æ–±—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –ø—Ä–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  // –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –¥–≤—É—Ö —Å–ª—É—á–∞—è—Ö:
  // 1. –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ
  // 2. –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –µ–≥–æ –≤—Ö–æ–¥—è—â–∏—Ö –ø—Ä–æ–ø—Å–æ–≤
  // –µ—Å–ª–∏ –º—ã –Ω–µ —Ö–æ—Ç–∏–º —á—Ç–æ–±—ã –¥–µ–π—Å—Ç–≤–∏–µ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–æ –∑–∞–Ω–æ–≤–æ
  // –º—ã –º–æ–∂–µ–º –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ useEffect()

  useEffect(() => {
    console.log("–°—Ä–∞–±–æ—Ç–∞–ª  useEffect");

    // fetch("https://dog.ceo/api/breeds/image/random")
    fetch(" https://randomfox.ca")
      .then((res) => res.json())
      // –µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ fetch –∑–∞–ø—Ä–æ—Å–µ –±–µ–∑ useEffect() –º—ã –ø–æ–ø–∞–¥–µ–º –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
      .then((data) => console.log(data.message));
  }, []);

  // * —ç—Ç–∞ —Å—Ç—Ä–æ—á–∫–∞ –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  console.log("lesson & render");

  // let num = 0;
  // num += 1;
  // console.log(num);

  return (
    <div>
      <h1> Lesson 8</h1>
      <h2>UseEffect + migrate components‚ú®üì¶</h2>
      {/* —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ  props, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–Ω—ã –≤ –µ–≥–æ interface */}
      {/* <MyButton
        text="typescript button"
        func={() => console.log("click!")}
        type="button"
      /> */}
      <MyButton
        text="typescript button"
        type="button"
        func={() => console.log("click")}
      />
      <MyButton text="rerender component" type="button" func={handleIncrease} />
      <MyButton
        text={`${toggle ? "hide" : "show"}component`}
        func={handleToggle}
        type="button"
      />
      {/* –∑–∞ —Å—á–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —É—Å–ª–æ–≤–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä ? –∏ –∑–Ω–∞—á–µ–Ω–∏–π props –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—è props –±–µ–∑ –æ—à–∏–±–æ–∫ */}
      <MyButton />

      {/* –µ—Å–ª–∏ toggle true –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç */}
      {/* —Å –ø–æ—è–≤–ª–µ–Ω–∏—è –≤ DOM –¥–µ—Ä–µ–≤–µ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –ø—Ä—è—á–µ–º –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É—Å–ø–µ–≤–∞–µ—Ç –ø—Ä–æ–∂–∏—Ç—å —Ü–µ–ª—É—é '–∂–∏–∑–Ω—å' - –æ—Ç mounting –¥–æ unmounting */}
      {/* –∫–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ - —ç—Ç–æ –Ω–æ–≤—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª - –≤—Å–µ useEffect –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ —Å—Ä–∞–±–æ—Ç–∞—é—Ç –∑–∞–Ω–æ–≤–æ */}
      {toggle && <Lesson05 />}
    </div>
  );
}

export default Lesson_08;
